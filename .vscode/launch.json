{
    // IntelliSense를 사용하여 가능한 특성에 대해 알아보세요.
    // 기존 특성에 대한 설명을 보려면 가리킵니다.
    // 자세한 내용을 보려면 https://go.microsoft.com/fwlink/?linkid=830387을(를) 방문하세요.
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Train Re10k",
            "type": "debugpy",
            "request": "launch",
            "module": "src.main",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "wandb.mode=disabled", // disabled or online
                "+experiment=re10k",
                "output_dir=/home/youngju/ssd/ufosplat/debug",
                "data_loader.train.batch_size=1",
                "data_loader.train.num_workers=0", // for debugging
                "data_loader.test.num_workers=0",  // for debugging
                "data_loader.val.num_workers=0",   // for debugging
                "trainer.num_sanity_val_steps=0",
                "dataset.image_shape=[224,224]",
                "dataset.view_sampler.num_context_views=2",   
                "model.encoder.ray.width=56",
                "model.encoder.num_offset_gaussian=3",
                "model.encoder.predict_offset=true",
                "model.encoder.backbone=mvsplat+mast3r",    
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true"          
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "CUDA_LAUNCH_BLOCKING": "1",
                "TORCH_USE_CUDA_DSA": "1"
            }
        },
        {
            "name": "Test Re10k",
            "type": "debugpy",
            "request": "launch",
            "module": "src.main",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "wandb.mode=disabled", // disabled or online
                "+experiment=re10k",
                "test.output_path=test/ours_re10k_w_offset_depths",
                "dataset/view_sampler=evaluation",
                "test.compute_scores=true",
                "mode=test",
                "data_loader.train.batch_size=1",
                "data_loader.train.num_workers=0", // for debugging
                "data_loader.test.num_workers=0",  // for debugging
                "data_loader.val.num_workers=0",   // for debugging
                "dataset.image_shape=[224,224]",
                "dataset.padding_size=0",          //! 16 originally
                "model.encoder.ray.width=56",       //! 64 originally
                "dataset.view_sampler.num_context_views=2",     //! decide # of context views
                "model.encoder.num_offset_gaussian=3",
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true",
                "trainer.num_sanity_val_steps=1",
                "model.encoder.backbone=mvsplat+mast3r",     //! backbone: mvsplat or dino or transmvsnet
                "checkpointing.load=/home/youngju/ssd/ufosplat/checkpoints/SHARE/epoch_4-step_300000.ckpt",
                // "model.encoder.global_alignment=true",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "CUDA_LAUNCH_BLOCKING": "1",
                "TORCH_USE_CUDA_DSA": "1"
            }
        },
        {
            "name": "Test ACID",
            "type": "debugpy",
            "request": "launch",
            "module": "src.main",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "wandb.mode=disabled", // disabled or online
                "+experiment=acid",
                "test.output_path=test/acid",
                "dataset/view_sampler=evaluation",
                "test.compute_scores=true",
                "mode=test",
                "data_loader.train.batch_size=1",
                "data_loader.train.num_workers=0", // for debugging
                "data_loader.test.num_workers=0",  // for debugging
                "data_loader.val.num_workers=0",   // for debugging
                "dataset.baseline_scale_bounds=true",
                "dataset.make_baseline_1=true",
                "dataset.view_sampler.num_context_views=2",   
                "dataset.image_shape=[256,256]",
                "dataset.padding_size=0",          //! 16 originally
                "model.encoder.ray.width=64",       //! 64 originally
                "model.encoder.ray.depth=4",
                "model.encoder.ray.mlp_ratio=2.0",
                "model.encoder.num_offset_gaussian=3",
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true",
                "trainer.num_sanity_val_steps=1",
                "model.encoder.backbone=mvsplat+mast3r",     //! backbone: mvsplat or dino or transmvsnet
                "checkpointing.load=/home/youngju/ssd/ufosplat/rebuttal/re10k-pose-normalized/epoch_4-step_300000.ckpt", // final ckpt for re10k
                // "model.encoder.global_alignment=true",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "CUDA_LAUNCH_BLOCKING": "1",
                "TORCH_USE_CUDA_DSA": "1"
            }
        },


        {
            "name": "Train DTU ",
            "type": "debugpy",
            "request": "launch",
            "module": "src.main",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "wandb.mode=disabled", // disabled or online
                "+experiment=dtu",
                "data_loader.train.batch_size=1",
                "data_loader.train.num_workers=0", // for debugging
                "data_loader.test.num_workers=0",  // for debugging
                "data_loader.val.num_workers=0",   // for debugging
                "trainer.num_sanity_val_steps=1",
                
                "dataset.make_baseline_1=true",
                "dataset.image_shape=[224,224]",
                "dataset.view_sampler.num_context_views=2",    
                "dataset.test_context_views=[23,24]",
                "dataset.test_target_views=[33]",
                "dataset.padding_size=0",
                "dataset.generic_near_far=true",
                "model.encoder.ray.width=56",
                "model.encoder.num_offset_gaussian=3",
                "model.encoder.predict_offset=true",
                "model.encoder.backbone=mvsplat+mast3r",               
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true"

                // "model.encoder.global_alignment=true",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "CUDA_LAUNCH_BLOCKING": "1",
                "TORCH_USE_CUDA_DSA": "1",
            }
        },
        {
            "name": "Test DTU",
            "type": "debugpy",
            "request": "launch",
            "module": "src.main",
            "args": [
                "wandb.mode=disabled",
                "+experiment=dtu",
                "mode=test",
                "test.output_path=/home/youngju/ssd/ufosplat/test/ablation/ours/anchor_only",
                "test.compute_scores=true",
                "output_dir=/home/youngju/ssd/ufosplat/test/ablation/ours/anchor_only",
                "data_loader.train.batch_size=1",
                "dataset.view_sampler.num_context_views=3",
                "dataset.test_context_views=[23,24,33]",
                "dataset.test_target_views=[22,15,34]",
                "trainer.num_sanity_val_steps=1",
                "dataset.image_shape=[224,224]",
                "dataset.baseline_scale_bounds=true",
                "dataset.make_baseline_1=true",
                "dataset.padding_size=0",
                "model.encoder.ray.width=56",
                "model.encoder.num_offset_gaussian=0",
                "model.encoder.predict_offset=false",
                "model.encoder.predict_anchor_gaussian=true",
                "model.encoder.backbone=mvsplat+mast3r",
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true",
                "checkpointing.load=/home/youngju/ssd/ufosplat/rebuttal-ablation/anchor-only-ty/checkpoints/epoch_40-step_140000.ckpt"
                // "checkpointing.load=/home/youngju/ssd/ufosplat/rebuttal/pose-normalized-dtu/epoch_40-step_140000.ckpt",
            ],
            "console": "integratedTerminal"
        },

        {
            "name": "Paper: Generate Point Cloud Figure (DTU)",
            "type": "debugpy",
            "request": "launch",
            "module": "src.paper.generate_point_cloud_figure_share_dtu_3_views",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "+experiment=dtu",
                "checkpointing.load=/home/youngju/3d-recon/ufosplat/outputs_dtu-final-0924/checkpoints/epoch_57-step_200000.ckpt",
                "model.encoder.pred_campose=true",
                "dataset.view_sampler.num_context_views=3",
                "dataset.single_view=true",
                "trainer.num_sanity_val_steps=0",
                "model.encoder.predict_only_canonical=true",
                "model.encoder.num_offset_gaussian=3",
                "model.encoder.backbone=mvsplat+mast3r",               
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true",
                "dataset.padding_size=0",
                "model.encoder.ray.width=56",

            ]
        },

        {
            "name": "Paper: Generate Point Cloud Figure (Re10K)",
            "type": "debugpy",
            "request": "launch",
            "module": "src.paper.generate_point_cloud_figure_share_re10k_2_views",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "+experiment=re10k",
                "dataset.image_shape=[224,224]",
                "checkpointing.load=/home/youngju/ssd/ufosplat/outputs_re10k-final-0924/checkpoints/epoch_3-step_220000.ckpt",
                "model.encoder.pred_campose=true",
                "dataset.view_sampler.num_context_views=2",
                "dataset.single_view=true",
                "trainer.num_sanity_val_steps=0",
                "model.encoder.predict_only_canonical=true",
                "model.encoder.num_offset_gaussian=3",
                "model.encoder.backbone=mvsplat+mast3r",               
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true",
                "dataset.padding_size=16",
                "model.encoder.ray.width=64",
            ]
        },

        //! ------------------------------------------------ RE10K dataset ----------------------------------------------------------------
        //! ------------------------------------------------ RE10K dataset ----------------------------------------------------------------
        //! ------------------------------------------------ RE10K dataset ----------------------------------------------------------------
        //! ------------------------------------------------ RE10K dataset ----------------------------------------------------------------
        //! ------------------------------------------------ RE10K dataset ----------------------------------------------------------------
        //! ------------------------------------------------ RE10K dataset ----------------------------------------------------------------
        {
            "name": "Train Re10k",
            "type": "debugpy",
            "request": "launch",
            "module": "src.main",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "wandb.mode=disabled", // disabled or online
                "+experiment=re10k",
                "data_loader.train.batch_size=1",
                "data_loader.train.num_workers=0", // for debugging
                "data_loader.test.num_workers=0",  // for debugging
                "data_loader.val.num_workers=0",   // for debugging
                "dataset.single_view=true",     
                "dataset.view_sampler.num_context_views=2",     //! decide # of context views
                "model.encoder.pred_campose=true",              //! estimate pred cam and use it to homo-warp and camera embedding
                "model.encoder.predict_only_canonical=true",    //! only canonical? or all views?
                "model.encoder.predict_anchor_gaussian=false",  //! anchor gaussian prediction? or just xyz positions
                "model.encoder.predict_offset=true",            //! offset prediction? or not
                "model.encoder.rendering_units=[all,anchor,offset]", //! rendering units: all, anchor, offset
                "trainer.num_sanity_val_steps=1",
                "loss=[mse,lpips,cam]", //cam
                "model.encoder.backbone=mvsplat",               //! backbone: mvsplat or dino or transmvsnet
                "model.encoder.estimation_space=depthmap",      //! estimation space: depthmap or pointmap
                "model.encoder.lifting.lifting_switch=true",
                "model.encoder.gaussian_adapter.learn_sh_residual_from_canoncal_rgb=true", //! learn sh's level 0 from canonical RGB or not 
                "model.encoder.gaussian_adapter.gaussian_2d_scale=false",   //! gaussian scale type 3d or 2d
                "model.encoder.use_monoN_loss=false",
                // "model.encoder.global_alignment=true",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "CUDA_LAUNCH_BLOCKING": "1",
                "TORCH_USE_CUDA_DSA": "1"
            }
        },

        {
            "name": "Cross dataset (re10k to dtu)",
            "type": "debugpy",
            "request": "launch",
            "module": "src.main",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "wandb.mode=disabled", // disabled or online
                "+experiment=dtu",
                "mode=test",
                "data_loader.train.batch_size=1",
                "data_loader.train.num_workers=0", // for debugging
                "data_loader.test.num_workers=0",  // for debugging
                "data_loader.val.num_workers=0",   // for debugging
                "dataset.view_sampler.num_context_views=2",     //! decide # of context views
                "output_dir=/home/youngju/ssd/ufosplat/rebuttal/results/cross-dataset-re10k2dtu/",
                "test.output_path=/home/youngju/ssd/ufosplat/rebuttal/results/cross-dataset-re10k2dtu",
                "dataset.image_shape=[256,256]",
                "dataset.test_context_views=[23, 34]",
                "dataset.test_target_views=[22]",
                "dataset.baseline_scale_bounds=true",
                "dataset.make_baseline_1=true",
                "dataset.generic_near_far=false",
                "dataset.padding_size=0",
                "model.encoder.ray.width=64",
                "model.encoder.ray.depth=4",
                "model.encoder.ray.mlp_ratio=2.0",
                "model.encoder.ray.hidden_size=256",
                "model.encoder.num_offset_gaussian=3",
                "model.encoder.predict_offset=true",
                "model.encoder.backbone=mvsplat+mast3r",
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true",
                "checkpointing.load=/home/youngju/ssd/ufosplat/rebuttal/re10k-pose-normalized/epoch_4-step_300000.ckpt",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "CUDA_LAUNCH_BLOCKING": "1",
                "TORCH_USE_CUDA_DSA": "1"
            }
        },

        {
            "name": "Cross dataset (DTU to BlendedMVS)",
            "type": "debugpy",
            "request": "launch",
            "module": "src.main",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "wandb.mode=disabled", // disabled or online
                "+experiment=blendedmvs",
                "mode=test",
                "data_loader.train.batch_size=1",
                "data_loader.train.num_workers=0", // for debugging
                "data_loader.test.num_workers=0",  // for debugging
                "data_loader.val.num_workers=0",   // for debugging
                "dataset.view_sampler.num_context_views=3",     //! decide # of context views
                "output_dir=/home/youngju/ssd/ufosplat/rebuttal/results/cross-dataset-dtu2blendedmvs/ours",
                "test.output_path=/home/youngju/ssd/ufosplat/rebuttal/results/cross-dataset-dtu2blendedmvs/ours",
                "dataset.image_shape=[224,224]",
                "dataset.baseline_scale_bounds=true",
                "dataset.make_baseline_1=true",
                "dataset.padding_size=0",
                "model.encoder.ray.width=56",
                "model.encoder.num_offset_gaussian=3",
                "model.encoder.predict_offset=true",
                "model.encoder.backbone=mvsplat+mast3r",
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true",
                "checkpointing.load=/home/youngju/ssd/ufosplat/rebuttal/pose-normalized-dtu/epoch_57-step_200000.ckpt",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
            }
        },


        {
            "name": "Cross dataset (DTU to TanksandTemples)",
            "type": "debugpy",
            "request": "launch",
            "module": "src.main",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "wandb.mode=disabled", // disabled or online
                "+experiment=tanksandtemples",
                "mode=test",
                "data_loader.train.batch_size=1",
                "data_loader.train.num_workers=0", // for debugging
                "data_loader.test.num_workers=0",  // for debugging
                "data_loader.val.num_workers=0",   // for debugging
                "dataset.view_sampler.num_context_views=3",     //! decide # of context views
                "output_dir=/home/youngju/ssd/ufosplat/rebuttal/results/cross-dataset-dtu2tanksandtemples/ours",
                "test.output_path=/home/youngju/ssd/ufosplat/rebuttal/results/cross-dataset-dtu2tanksandtemples/ours",
                "dataset.image_shape=[224,224]",
                "dataset.baseline_scale_bounds=true",
                "dataset.make_baseline_1=true",
                "dataset.padding_size=0",
                "model.encoder.ray.width=56",
                "model.encoder.num_offset_gaussian=3",
                "model.encoder.predict_offset=true",
                "model.encoder.backbone=mvsplat+mast3r",
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true",
                "checkpointing.load=/home/youngju/ssd/ufosplat/rebuttal/pose-normalized-dtu/epoch_57-step_200000.ckpt",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
            }
        },

        {
            "name": "Cross dataset (Re10K to TanksandTemples)",
            "type": "debugpy",
            "request": "launch",
            "module": "src.main",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "wandb.mode=disabled", // disabled or online
                "+experiment=tanksandtemples",
                "mode=test",
                "data_loader.train.batch_size=1",
                "data_loader.train.num_workers=0", // for debugging
                "data_loader.test.num_workers=0",  // for debugging
                "data_loader.val.num_workers=0",   // for debugging
                "dataset.view_sampler.num_context_views=2",     //! decide # of context views
                "output_dir=/home/youngju/ssd/ufosplat/rebuttal/results/cross-dataset-re10k2tanksandtemples/ours",
                "test.output_path=/home/youngju/ssd/ufosplat/rebuttal/results/cross-dataset-re10k2tanksandtemples/ours",
                "dataset.image_shape=[256,256]",
                "dataset.baseline_scale_bounds=true",
                "dataset.make_baseline_1=true",
                "dataset.padding_size=0",
                "model.encoder.ray.width=64",
                "model.encoder.num_offset_gaussian=3",
                "model.encoder.predict_offset=true",
                "model.encoder.backbone=mvsplat+mast3r",
                "model.encoder.feature_fusion_strategy=both",
                "model.encoder.ray.pose_embedding=true",
                "checkpointing.load=/home/youngju/ssd/ufosplat/rebuttal/re10k-pose-normalized/epoch_4-step_300000.ckpt",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
            }
        },
        
    ]
}